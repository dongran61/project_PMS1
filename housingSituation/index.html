<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>房情/房控</title>
    <link rel="stylesheet" href="../assets/layui/css/layui.css">
    <link rel="stylesheet" href="../assets/css/global.css">
    <link rel="stylesheet" href="css/index.css">
</head>
<body>
<div class="page_panel">
    <div class="nav_30"></div>
    <div class="layui-row  layui-form flex_row_l">
        <div class="layui-form-item layui-col-sm2 padding_l flex_row_l">
            <span class="icon btn_58759B font_fff btn_left" onclick="setDate('sub')"><i
                    class="layui-icon layui-icon-left"></i></span>
            <input type="text" id="txtdate" class="layui-input date_item" id="txtStarDateSear" placeholder="开始时间">
            <span class="icon btn_58759B font_fff btn_right" onclick="setDate('plus')"><i
                    class="layui-icon layui-icon-right"></i></span>
        </div>
        <div class="layui-form-item layui-col-sm2 padding_l flex_row_l">
            <button class="btn_base btn_58759B">后15天</button>
        </div>
        <div class="layui-form-item layui-col-sm8 layui-col-md8 layui-col-lg8 padding_l flex_row_r">
            <button type="button" class="btn_base btn_blue" onclick='popup(1,"popup_cyl","超预留设置")'>超预留</button>
        </div>
    </div>
    <div class="table_height">
        <table class="layui-table " lay-data="{ url:'../json/financialProcessing.json', page:false,totalRow: true}"
               lay-filter="account">
            <thead>
            <tr>
                <th lay-data="{field:'caozuoyuan',width:'120'}">房型</th>
                <th lay-data="{field:'roomNum',width:'100', totalRow: true}">房量</th>
                <th lay-data="{field:'price',width:'120', totalRow: true}">星期一&lt;br/>2019/08/12</th>
                <th lay-data="{field:'price',width:'120', totalRow: true}">星期二&lt;br/>2019/08/13</th>
                <th lay-data="{field:'price',width:'120', totalRow: true}">星期三&lt;br/>2019/08/14</th>
                <th lay-data="{field:'price',width:'120', totalRow: true}">星期四&lt;br/>2019/08/15</th>
                <th lay-data="{field:'price',width:'120', totalRow: true}">星期五&lt;br/>2019/08/16</th>
                <th lay-data="{field:'price',width:'120', totalRow: true}">星期六&lt;br/>2019/08/17</th>
                <th lay-data="{field:'price',width:'120', totalRow: true}">星期日&lt;br/>2019/08/18</th>
                <th lay-data="{field:'price',width:'120', totalRow: true}">星期一&lt;br/>2019/08/12</th>
                <th lay-data="{field:'price',width:'120', totalRow: true}">星期二&lt;br/>2019/08/13</th>
                <th lay-data="{field:'price',width:'120', totalRow: true}">星期三&lt;br/>2019/08/14</th>
                <th lay-data="{field:'price',width:'120', totalRow: true}">星期四&lt;br/>2019/08/15</th>
                <th lay-data="{field:'price',width:'120', totalRow: true}">星期五&lt;br/>2019/08/16</th>
            </tr>
            </thead>
        </table>
    </div>
</div>
<div class="popup_box_1">
    <div id="popup_cyl" class="popup" style="display: none">
        <div class="layui-form">
            <div class="layui-row flex_row_l">
                <div class="layui-form-item layui-col-sm4 layui-col-md4 layui-col-lg4">
                    <label class="layui-form-label">开始日期：</label>
                    <div class="layui-input-block flex_row_l">
                        <input type="text" class="layui-input date_item" placeholder="开始日期">
                    </div>
                </div>
                <div class="layui-form-item layui-col-sm4 layui-col-md4 layui-col-lg4">
                    <label class="layui-form-label">结束日期：</label>
                    <div class="layui-input-block flex_row_l">
                        <input type="text" class="layui-input date_item" placeholder="结束日期">
                    </div>
                </div>
                <div class="layui-form-item layui-col-sm4 layui-col-md4 layui-col-lg4">
                    <label class="layui-form-label">房型：</label>
                    <div class="layui-input-block flex_row_l">
                        <select multiple="multiple" name="dataJurisdiction" >
                            <option value="">请选择</option>
                            <option value="行程改变">行程改变</option>
                            <option value="行程改变2">行程改变2</option>
                            <option value="行程改变3">行程改变3</option>
                        </select>
                    </div>
                </div>

            </div>
            <div class="layui-row flex_row_l">
                <div class="layui-row layui-row_item  layui-col-sm12 layui-col-md12 layui-col-lg12 ">
                    <label class="layui-form-label">星期：</label>
                    <div class="layui-input-block flex_row_l">
                        <input type="checkbox" name="" lay-skin="primary" title="星期一">
                        <input type="checkbox" name="" lay-skin="primary" title="星期二">
                        <input type="checkbox" name="" lay-skin="primary" title="星期三">
                        <input type="checkbox" name="" lay-skin="primary" title="星期四">
                        <input type="checkbox" name="" lay-skin="primary" title="星期五">
                        <input type="checkbox" name="" lay-skin="primary" title="星期六">
                        <input type="checkbox" name="" lay-skin="primary" title="星期日">

                    </div>
                </div>
            </div>
            <div class="nav_10"></div>
            <div class="layui-row layui-row_item flex_row_r">

                <div class="layui-row layui-row_item  layui-col-sm3 layui-col-md3 layui-col-lg3 ">
                    <label class="layui-form-label">房数：</label>
                    <div class="layui-input-block flex_row_l">
                        <input type="text" disabled value="2" class="layui-input"/>
                    </div>
                </div>
                <div class="layui-row layui-row_item  layui-col-sm4 layui-col-md4 layui-col-lg4 ">
                    <label class="layui-form-label">超订数：</label>
                    <div class="layui-input-block flex_row_l">
                        <input type="number" value="20" class="layui-input"/>
                    </div>
                </div>
                <div class="layui-row layui-row_item layui-col-sm5 layui-col-md5 layui-col-lg5 ">
                    <!--<button type="button" class="btn_base2 btn_orange">退出</button>-->

                    <button type="button" class="btn_base btn_58759B">设置</button>

                </div>


            </div>
            <div class="nav_10"></div>
            <div class="layui-row cyl_table">
                <table class=" layui-table"
                       lay-data="{height: 'full', url:'../json/financialProcessing.json', page:false}"
                       lay-filter="searchList">
                    <thead>
                    <tr>
                        <th lay-data="{field:'yingyeTime',width:'120'}">开始时间</th>
                        <th lay-data="{field:'yewuTime',width:'120'}">结束时间</th>
                        <th lay-data="{field:'price',width:'140'}">星期<!--显示数据为一、二、三、四--></th>
                        <th lay-data="{field:'banci',width:'120'}">房型</th>
                        <th lay-data="{field:'roomNum',width:'80'}">房数</th>

                        <th lay-data="{field:'roomNum',width:'80'}">超订数</th>

                        <th lay-data="{field:'yingyeTime',width:'120'}">设置时间</th>
                        <th lay-data="{field:'caozuoyuan',width:'80'}">设置人</th>
                        <th lay-data="{field:'daima',align:'center', toolbar: '#barOperation',width:'80'}"></th>
                    </tr>
                    </thead>
                </table>
            </div>
            <div class="nav_30"></div>
        </div>
    </div>
</div>

<script type="text/html" id="barOperation">
    <a class="layui-btn  layui-btn-xs btn_orange" lay-event="close">关闭</a>
</script>
<script src="../assets/layui/layui.js" charset="utf-8"></script>
<script>
    layui.use(['element', 'laydate', 'form', 'table'], function () {
        var element = layui.element, $ = layui.jquery, form = layui.form, table = layui.table, laydate = layui.laydate;
        //同时绑定多个
        lay('.date_item').each(function () {
            laydate.render({
                elem: this
                , value: new Date()
                , trigger: 'click'
                , format: 'yyyy/MM/dd'
            });
        });

        window.setDate = function (type) {
            var getDate = new Date($.trim($("#txtdate").val())).getTime();
            var setDate = new Date();

            if (type == "plus")
                setDate = getDate + 24 * 60 * 60 * 1000; //后一天
            else
                setDate = getDate - 24 * 60 * 60 * 1000
            var yesday = new Date(setDate)
            yesday = yesday.getFullYear() + "/" + (yesday.getMonth() > 8 ? (yesday.getMonth() + 1) : "0" + (yesday.getMonth() + 1)) + "/" + (yesday.getDate() > 9 ? (yesday.getDate()) : "0" + (yesday.getDate())); //字符串拼接转格式：例如2018-08-19
            $("#txtdate").attr("value", yesday);
        }
        window.popup = function (type, content, title) {
            layer.open({
                type: type,
                content: $('#' + content),
                title: title
            });
        }
    });
</script>
<script type="text/javascript">
    layui.config({
        base: '../assets/layui/',
    })
    layui.use(['multiSelect', 'table'], function () {
        var $ = layui.jquery, form = layui.form, multiSelect = layui.multiSelect, table = layui.table;
        $('#get-val').click(function () {

            var vals = [],
                texts = [];
            $('select[multiple] option:selected').each(function () {
                vals.push($(this).val());

                texts.push($(this).text());
            })
            multiSelect.render();
        })
    })
</script>
</body>
</html>